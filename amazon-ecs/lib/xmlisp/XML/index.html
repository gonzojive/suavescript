<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>XMLisp</title><style type="text/css"><!--.style1 {color: #0000FF}--></style></head><body><p align="center">	<img name="" src="%3CXMLisp).png" width="300" height="85" alt=""></p><p>&nbsp;</p><p>XMLisp is the integration of Lisp with XML. The Lisp Meta Object Protocol is used to establish a simple and highly efficient mapping between CLOS objects and the XML extensible markup language. It is not just an API to read XML files and turn them into some Lisp flavored representation. Instead, it integrates Lisp and XML into one environment at two levels. At a language level it allows the arbitrary combination of Lisp expressions and XML elements. CLOS objects can be printed as XML elements. XML elements evaluate into CLOS objects. At a tool level XMLisp allows users to fluidly experiment with XML. Type XML elements into the lisp listener. Evaluate complete or parts of hierarchical XML elements. Inspect complex XML elements using the inspector. Get support from symbol completion when editing XML. </p><h3>What's NEW?</h3><p>2.0: replaced fake MOP with real MOP; portable loader, compilable sexp+XML files; early LispWorks version</p><p>2.0.1: work with OpenMCL, save-object method </p><p>2.0.2: SBCL patch; bufix: untyped numbers will be XML quoted again </p><p>2.1: CLISP support, (setf part-of) aggregator method</p><p>2.2: *xmlisp-packages* to control which packages use XMLisp reader</p><p>2.3: support namespaces as package prefix, e.g, &lt;xml:bla ... /&gt; , ACL support </p><p><a href="XMLisp.zip">Download XMLisp 2.3</a>(for MCL 5, 5.1, LispWorks 4.3, OpenMCL 0.13.2, SBCL, CLISP, ACL)</p><h3>ToDos: </h3><p>- implement tool integration for Windows, and Linux</p><p>&nbsp;  </p><h3>To learn about XMLisp have a look at some simple examples:</h3><pre class="style1">;; Example 1: HTML Link;; simple mapping between class/element and slot/attribute name </pre><pre>(defclass <strong>A</strong> (xml-serializer)   ((href :accessor href :initform &quot;&quot; :initarg :href))   (:documentation &quot;HTML link&quot;)) </pre><pre>(inspect &lt;a href=&quot;http://www.agentsheets.com&quot;/&gt;) &lt;a href=&quot;http://www.agentsheets.com&quot;&gt;AgentSheets&lt;/a&gt; </pre><pre class="style1">;; Example 2: RSS</pre><pre>(defclass <strong>RSS</strong> (xml-serializer)   ((version :accessor version :initform &quot;&quot;)   (channel :accessor channel :initform nil))   (:documentation &quot;RSS main element&quot;))</pre><pre>(defclass <strong>CHANNEL</strong> (xml-serializer)   ((title :accessor title :initform &quot;&quot;)   (link :accessor link :initform &quot;&quot;)   (description :accessor description :initform &quot;&quot;)   (image :accessor image :initform nil)   (managingeditor :accessor managingeditor :initform &quot;&quot;)   (ttl :accessor ttl :initform nil :documentation &quot;don't know what this is&quot;)   (language :accessor language :initform &quot;&quot;)   (copyright :accessor copyright :initform &quot;&quot;)   (webmaster :accessor webMaster :initform &quot;&quot;)   (pubdate :accessor pubDate :initform &quot;&quot;)   (lastbuilddate :accessor lastBuildDate :initform &quot;&quot;)   (category :accessor category :initform &quot;&quot;)   (generator :accessor generator :initform &quot;&quot;)   (docs :accessor docs :initform &quot;&quot;)   (items :accessor items :initform nil :documentation &quot;list of RSS item&quot;))   (:documentation &quot;RSS channel&quot;)) </pre><pre>(defclass <strong>IMAGE</strong> (xml-serializer)   ((title :accessor title :initform &quot;&quot;)   (url :accessor url :initform &quot;&quot;)   (link :accessor link :initform &quot;&quot;)   (width :accessor width :initform 0))   (:documentation &quot;RSS Image&quot;)) </pre><pre>(defclass <strong>ITEM</strong> (xml-serializer)   ((title :accessor title :initform &quot;&quot;)   (link :accessor link :initform &quot;&quot;)   (description :accessor description :initform &quot;&quot;)   (pubdate :accessor pubdate :initform &quot;&quot;))   (:documentation &quot;RSS news Item&quot;))</pre><pre class="style1">;; pick an XML RSS file from the examples/xml folder;; if you pick other RSS files keep in mind that the above spec is incomplete </pre><pre>(defparameter *RSS-News* (load-object (ccl:choose-file-dialog))) </pre><pre class="style1">;; and walk throught the RSS structure</pre><pre>(inspect *RSS-News*)</pre><pre class="style1">;; Example 3: Typed Slots;; Typed slots use the print-typed-attribute-value, read-typed-attribute-value, print-typed-subelement-value;; CODECs </pre><pre>(defclass <strong>COIN</strong> (xml-serializer)   ((head-is-up :accessor head-is-up :type boolean))) </pre><pre>(inspect &lt;coin head-is-up=&quot;true&quot;/&gt;)</pre><pre>&nbsp;</pre><pre class="style1">;; Example 4: simple Aggregation: rule based Visual AgenTalk-like language    ;; use MOP name matching to implement aggregation   ;; e.g. slot &quot;RULES&quot; will contain a list of &quot;RULE&quot; elements</pre><pre>(defclass <strong>COMMAND</strong> (xml-serializer)   ((name :accessor name :initform &quot;&quot; :initarg :name)   (comments :accessor comments :initform nil))) </pre><pre>(defclass <strong>BEHAVIOR</strong> (command)   ((method-commands :accessor method-commands :initform nil))) </pre><pre>(defclass <strong>METHOD-COMMAND</strong> (command)   ((trigger :accessor trigger :initform nil)   (rules :accessor rules :initform nil)))</pre><pre>(defclass <strong>TRIGGER</strong> (command)   ())</pre><pre>(defclass <strong>RULE</strong> (command)   ((condition-commands :accessor condition-commands :initform nil :initarg :condition-commands)   (action-commands :accessor action-commands :initform nil :initarg :action-commands)   (is-enabled :accessor is-enabled :initform t :initarg :is-enabled :type boolean)   (probablility :accessor probability :initform 0.9s0 :initarg :probability :type short-float))) </pre><pre>(defclass <strong>CONDITION-COMMAND</strong> (command)   ()) </pre><pre>(defclass <strong>ACTION-COMMAND</strong> (command)   ()) </pre><pre>(defclass <strong>TRIGGER</strong> (command)   ())</pre><pre>&nbsp;</pre><pre>(inspect &lt;behavior name=&quot;random Move&quot;&gt;  &lt;method-command name=&quot;mouse&quot; trigger=&quot;on mouse down&quot;&gt;   &lt;rule&gt;    &lt;condition-command name=&quot;see_a&quot;/&gt;    &lt;condition-command name=&quot;key&quot;/&gt;    &lt;action-command name=&quot;play_sound&quot;/&gt;   &lt;/rule&gt;  &lt;/method-command&gt; &lt;/behavior&gt; ) </pre><pre class="style1">;; Example 5: User defined Aggregation   ;; This is by no means a complete definition </pre><pre>(defclass <strong>HTML-BASE-CLASS</strong> (xml-serializer)   ()   (:documentation &quot;mother of all HTML element classes&quot;)) </pre><pre>(defclass <strong>HTML</strong> (html-base-class)   ((items :accessor items :initform nil))   (:documentation &quot;Contains all the html items of an HTML document&quot;)) </pre><pre>(defmethod <strong>ADD-SUBOBJECT</strong> ((Self html) (Item html-base-class))   ;; extend this method to add all html-base-class instances to the &quot;items&quot; slot   (add-object-to-slot Self Item 'items))    </pre><pre>(defclass <strong>A</strong> (html-base-class)   ((href :accessor href :initform &quot;&quot; :initarg :href))   (:documentation &quot;HTML link&quot;)) </pre><pre>(defclass <strong>FONT</strong> (html-base-class)   ((face :accessor face)   (size :accessor size :type number))   (:documentation &quot;Font info&quot;)) </pre><pre>&nbsp;</pre><pre>(inspect</pre><pre>&lt;HTML&gt;</pre><pre>&lt;font face=&quot;arial, sans-serif&quot; size=&quot;-2&quot;&gt;Small Text here&lt;/font&gt; &lt;font face=&quot;arial, sans-serif&quot; size=&quot;+2&quot;&gt;Large Text here&lt;/font&gt; &lt;a href=&quot;http://www.cs.colorado.edu&quot;&gt;Go CU&lt;/a&gt;</pre><pre>&lt;/HTML&gt; )</pre><h2><br>  Enabling/Disabling the XMLisp Reader</h2><p>Use the *xmlisp-packages* variable to enable and disable the XMLisp reader. Examples:</p><p>(setq *xmlisp-packages* :all) <span class="style1">;; XMLisp XML reading will take place in ALL packages</span></p><p>(setq *xmlisp-packages* nil) <span class="style1">;; no  XML reading in any package</span></p><p>(setq *xmlisp-packages* (list (find-package :cl-user) (find-package :xml))) <span class="style1">;; XML reading in :cl-user, :xml packages</span> </p><p>&nbsp;</p><p>&nbsp;</p></body></html>